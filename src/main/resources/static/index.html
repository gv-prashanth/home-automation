<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Vadrin Home Automation</title>
<script>
function loadDoc() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
        	var myjson = JSON.parse(this.responseText);
            let tableHtml = '<table border=2 style="text-align: center; vertical-align: middle; width: 50%;"><tr><th>Device</th><th>Reading</th></tr>';
            for (const key in myjson){
            	tableHtml += '<tr><td>'+key+'</td><td>'+myjson[key]+'</td></tr>';
            }
            tableHtml += '</table>';
            document.getElementById("resp").innerHTML = tableHtml;
       }
    };
    xhttp.open("GET", '/devices', true);
    xhttp.send();
}
</script>
<style>

</style>
</head>
<body style="background-image: url('/images/background.jpg')"
	onload="loadDoc()">
	<center>
		<img src="/images/icon.jpg" width="100px" />
		<h1>Vadrin Home Automation</h1>
		<h2 id="resp"></h2>
	</center>
</body>
</html>